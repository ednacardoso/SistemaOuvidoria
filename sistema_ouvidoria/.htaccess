<IfModule mod_rewrite.c>
    RewriteEngine On

    # Redireciona todas as requisições para o front-controller do Laravel
    # EXCETO se o arquivo ou diretório solicitado existir fisicamente.
    # Isso permite que /index.php (legado), /src/view/user.php, etc., ainda funcionem.
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]

    # Se a requisição for para /mensagem ou /registrar-mensagem,
    # força o uso do Laravel's public/index.php
    RewriteRule ^(mensagem|registrar-mensagem)$ public/index.php [L]

</IfModule>